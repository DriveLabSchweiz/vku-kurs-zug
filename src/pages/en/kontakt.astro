---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Contact VKU Zug – Questions about the traffic theory course?"
  description="Do you have questions about the VKU course in Zug or need help with registration? Contact us via form, email or phone – we will get back to you quickly."
  canonical="https://vku-kurs-zug.ch/en/kontakt"
  lang="en"
>
  <!-- Hero Section -->
  <section class="bg-gradient-to-r from-blue-600 to-blue-800 text-white py-12">
    <div class="max-w-6xl mx-auto px-4">
      <h1 class="text-4xl font-bold mb-4">Contact</h1>
      <p class="text-xl">Send us a message or call us</p>
    </div>
  </section>

  <!-- Breadcrumb -->
  <nav class="bg-gray-50 py-4">
    <div class="max-w-6xl mx-auto px-4">
      <a href="/en" class="text-blue-600 hover:underline">Home</a> > <span
        class="text-gray-600">Contact</span
      >
    </div>
  </nav>

  <!-- Main Content -->
  <section class="py-12 max-w-6xl mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
      <!-- Contact Info -->
      <div>
        <h2 class="text-2xl font-bold mb-6">Contact Information</h2>
        <div class="space-y-6">
          <div>
            <h3 class="font-bold text-lg mb-2">Address</h3>
            <p class="text-gray-700">
              Industriestrasse 50<br />
              6300 Zug<br />
              Switzerland
            </p>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-2">Phone</h3>
            <p class="text-gray-700">
              <a href="tel:+41412193660" class="text-blue-600 hover:underline"
                >+41 41 219 36 60</a
              >
            </p>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-2">Opening Hours</h3>
            <p class="text-gray-700">
              Monday – Friday: 08:00 – 18:00<br />
              Saturday: 09:00 – 12:00<br />
              Sunday: Closed
            </p>
          </div>
          <div>
            <h3 class="font-bold text-lg mb-2">Arrival</h3>
            <p class="text-gray-700">
              Approx. 9 minutes walk from Zug station<br />
              or by bus no. 4 to Zug, Göbli
            </p>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div>
        <h2 class="text-2xl font-bold mb-6">Course Registration</h2>
        <p class="text-lg text-gray-700 mb-6">
          Register directly via our registration form for the next VKU course.
        </p>
        <iframe
          style="border: 0px #ffffff none;"
          src="https://iframe.vku-pgs.asa.ch/de/public/coursegroup/all/VktVXzU3NzQ=/0/vku/"
          name="VKU Zug"
          width="100%"
          height="500px"
          frameborder="1"
          marginwidth="0px"
          marginheight="0px"
          loading="lazy"
          scrolling="yes"
          allowfullscreen="allowfullscreen"
          class="rounded-lg shadow-xl"></iframe>

        <h2 class="text-2xl font-bold mb-6 mt-12">Contact Form</h2>
        <form id="contactForm" class="space-y-4">
          <div>
            <label for="vorname" class="block font-semibold mb-2"
              >First Name *</label
            >
            <input
              type="text"
              id="vorname"
              name="vorname"
              required
              class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:border-blue-600"
            />
          </div>
          <div>
            <label for="nachname" class="block font-semibold mb-2"
              >Last Name *</label
            >
            <input
              type="text"
              id="nachname"
              name="nachname"
              required
              class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:border-blue-600"
            />
          </div>
          <div>
            <label for="email" class="block font-semibold mb-2">Email *</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:border-blue-600"
            />
          </div>
          <div>
            <label for="telefon" class="block font-semibold mb-2"
              >Phone (optional)</label
            >
            <input
              type="tel"
              id="telefon"
              name="telefon"
              class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:border-blue-600"
            />
          </div>
          <div>
            <label for="nachricht" class="block font-semibold mb-2"
              >Message *</label
            >
            <textarea
              id="nachricht"
              name="nachricht"
              rows="5"
              required
              class="w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:border-blue-600"
            ></textarea>
          </div>
          <div class="flex items-start">
            <input
              type="checkbox"
              id="datenschutz"
              name="datenschutz"
              required
              class="mt-1 mr-3"
            />
            <label for="datenschutz" class="text-sm text-gray-700">
              I agree to data processing according to the <a
                href="/en/datenschutz"
                class="text-blue-600 hover:underline">privacy policy</a
              >. *
            </label>
          </div>
          <button
            type="submit"
            class="w-full bg-blue-600 text-white px-6 py-3 rounded font-bold hover:bg-blue-700 transition"
          >
            Send Message
          </button>
          <p id="formMessage" class="text-sm text-gray-600 hidden"></p>
        </form>
      </div>
    </div>
  </section>

  <!-- Breadcrumb Schema -->
  <script
    type="application/ld+json"
    is:inline
    set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      itemListElement: [
        {
          "@type": "ListItem",
          position: 1,
          name: "Home",
          item: "https://vku-kurs-zug.ch/en/",
        },
        {
          "@type": "ListItem",
          position: 2,
          name: "Contact",
          item: "https://vku-kurs-zug.ch/en/kontakt",
        },
      ],
    })}
  />

  <script>
    const contactForm = document.getElementById("contactForm");
    if (contactForm) {
      contactForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const target = e.target as HTMLFormElement;
        const formData = new FormData(target);
        const data = Object.fromEntries(formData);

        const messageElement = document.getElementById("formMessage");

        try {
          const response = await fetch("/api/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          if (messageElement) {
            if (response.ok) {
              messageElement.textContent =
                "Thank you! Your message has been sent.";
              messageElement.className = "text-sm text-green-600 block";
              target.reset();
            } else {
              messageElement.textContent =
                "There was an error. Please try again later.";
              messageElement.className = "text-sm text-red-600 block";
            }
          }
        } catch (error) {
          if (messageElement) {
            messageElement.textContent = "Error sending message.";
            messageElement.className = "text-sm text-red-600 block";
          }
        }
      });
    }
  </script>
</BaseLayout>
